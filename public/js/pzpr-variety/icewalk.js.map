{"version":3,"file":"icewalk.js","sources":["../../../src/variety/icewalk.js"],"names":["pidlist","classbase","module","exports","pzpr","classmgr","makeCustom","MouseEvent","inputModes","edit","play","mouseinput_auto","cell","this","puzzle","playmode","btn","mousestart","mousemove","inputLine","mouseend","notInputted","prevPos","reset","inputpeke","editmode","getcell","isNum","inputqnum","inputIcebarn","MouseEvent@waterwalk","mouseinput_other","inputMode","MouseEvent@genderwalk","KeyEvent","enablemake","keyinput","ca","cursor","getc","setQues","ques","prev","draw","key_inputqnum","Border","enableLineNG","isLineNG","inside","posthook","line","board","roommgr","isStale","Cell","qnum","val","pid","setQnum","maxnum","cols","rows","ice","isnull","Cell@genderwalk","numberAsLetter","Cross","l2cnt","Board","hasborder","Graphic","irowake","bgcellcolor_func","paint","drawBGCells","drawDashedGrid","drawBorders","drawLines","drawPekes","drawQuesNumbers","drawTarget","getBorderColor","border","cell1","sidecell","cell2","quescolor","Graphic@waterwalk","icecolor","Graphic@genderwalk","drawQuesShapes","drawHatenas","shapes","g","vinc","rsize","lineWidth","Math","max","cw","clist","range","cells","i","length","px","vid","id","strokeStyle","bx","bw","py","by","bh","beginPath","drawPath","stroke","vhide","path","ctx","context","movx","movy","curx","cury","commands","A","f","ellipse","rx","ry","phi","large","sweep","x","y","getAngle","r","acos","hypot","sinPhi","sin","cosPhi","cos","dx","dy","xp","yp","rxyp","ryxp","c","sqrt","abs","cxp","cyp","cx","cy","theta0","theta1","args","C","bezierCurveTo","L","lineTo","M","moveTo","Q","quadraticCurveTo","Z","closePath","tokens","split","token","cmd","j","value","argType","push","apply","cpath","lastpath","concat","LineGraph","enabled","LineGraph@icewalk","isLineCross","AreaRoomGraph","countprop","relation","cell.ques","border.line","isedgevalidbylinkobj","isLine","AreaRoomGraph@genderwalk","setExtraData","component","common","call","determineMarkType","GraphComponent@genderwalk","markType","Encode","decodePzpr","decodeIce","decodeNumber16","encodePzpr","encodeIce","encodeNumber16","FileIO","decodeData","decodeCell","decodeBorderLine","encodeData","encodeCell","encodeBorderLine","AnsCheck","checklist","checkLessWalk","checkWalkLength","checkOverWalk","checkWaterWalk","flag","code","rebuild","room","some","lcnt","d","failcode","add","checkOnly","seterr","checkPassesSingleMarks","checkAllRoom","checkPassesAnyMarks","cond","errfilter","rooms","components","ignore","filter","checkConsecutiveMarks","neighbors","borders","iceRoom","idx","iceInRoom0","landRoom","undefined","pair","mark","checkCrossOutOfIce","checkAllCell","checkNoLineOnNum"],"mappings":"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"}