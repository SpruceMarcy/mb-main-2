<% page_title = "Phylogenetic Tree Editor | Mxmbrook.co.uk"%>
<% layout('layout/application') %>
<article style="margin:8px auto;width: 100%; display:table;vertical-align:middle;">
  <h1>Phylogenetic Tree Editor</h1>
  <div id="editorContainer" style="margin:1em;display:grid;grid-template-columns:30% 70%;height:525px">
    <div>
      <textarea spellcheck="false" id="rawTree" style="resize:none;width:100%;height:100%;padding:0;border:0;white-space: nowrap">
{
  "name":"Family",
  "taxa":
  [
    {
      "name":"Genus1",
      "taxa":
      [
        {
          "name":"Species1"
        },
        {
          "name":"Species2"
        }
      ]
    },
    {
      "name":"Genus2",
      "taxa":
      [
        {
          "name":"Species3"
        },
        {
          "name":"Species4"
        }
      ]
    }
  ]
}
      </textarea>
    </div>
    <div style="display: flex;flex-direction: column">
      <div>
        <button id="toggletextarea">< Source</button>
        <button id="resetview">Reset View</button>
        <button id="resettree">Reset Tree</button>
      </div>
      <div id="canvasParent" style="flex: 1;position: relative">
        <div id="canvasOverlay" style="position: absolute;top:0px;left:0px" hidden>
          <button id="editNode">Edit</button>
        </div>
        <canvas id="canvas1" style="cursor:move;display: block;"></canvas>
      </div>
      <p style="margin-left: 0.3em;">Click and drag to pan. Scroll to zoom</p>
    </div>
  </div>
  </div>
  <script src="/javascripts/phylogeny.js"></script>
</article>
